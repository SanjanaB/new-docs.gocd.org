<!DOCTYPE html>

<html>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Value Stream Map | GoCD User Documentation</title>

<link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet">
<link rel="stylesheet" href="../normalize.min.css">

<link rel="stylesheet" href="../book.min.29d743ffb6d61ecbfc9bb21b7eab17d63b577d4bd547c3f095addb1c793ab1b1.css">
  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav role="navigation">



    <ul>
<li><a href="../"><strong>Introduction</strong></a></li>
<li><a href="../navigation.html"><strong>GoCD Tour</strong></a>

<ul>
<li><a href="../navigation/pipelines_dashboard_page.html">Pipeline Dashboard</a></li>
<li><a href="../navigation/agents_page.html">Agents</a></li>
<li><a href="../navigation/agent_details.html">Agent Details</a></li>
<li><a href="../navigation/pipeline_activity_page.html">Pipeline Activity</a></li>
<li><a href="../navigation/stage_details_page.html">Stage Details</a></li>
<li><a href="../navigation/job_details_page.html">Job Details</a></li>
<li><a href="../navigation/administration_page.html">Administration</a></li>
<li><a href="../navigation/server_details_page.html">Server Details</a></li>
<li><a href="../navigation/environments_page.html">Environments</a></li>
<li><a href="../navigation/value_stream_map.html">Value Stream Map</a></li>
</ul></li>
<li><a href="../configuration.html"><strong>Configuration</strong></a>

<ul>
<li><a href="../configuration/quick_pipeline_setup.html">Setup a New Pipeline</a></li>
<li><a href="../configuration/managing_pipelines.html">Managing Pipelines</a></li>
<li><a href="../configuration/managing_dependencies.html">Managing Dependencies</a></li>
<li><a href="../configuration/managing_a_build_cloud.html">Managing Agents</a></li>
<li><a href="../configuration/managing_environments.html">Managing Environments</a></li>
<li><a href="../configuration/build_labelling.html">Pipeline Labelling</a></li>
<li><a href="../configuration/pipeline_scheduling.html">Pipeline Scheduling</a></li>
<li><a href="../configuration/admin_use_parameters_in_configuration.html">Parameterize a Pipeline</a></li>
<li><a href="../configuration/admin_use_custom_pipeline_label.html">Customize a Pipeline Label</a></li>
<li><a href="../configuration/admin_clone_pipeline.html">Clone a Pipeline</a></li>
<li><a href="../configuration/admin_lock_pipelines.html">Lock a Pipeline</a></li>
<li><a href="../configuration/admin_add_material.html">Add Material to Existing Pipeline</a></li>
<li><a href="../configuration/admin_add_stage.html">Add Stage to Existing Pipeline</a></li>
<li><a href="../configuration/admin_add_job.html">Add job to Existing Stage</a></li>
<li><a href="../configuration/admin_add_task.html">Add task to Existing Job</a></li>
<li><a href="../configuration/pipeline_templates.html">Pipeline Templates</a></li>
<li><a href="../configuration/elastic_agents.html">Elastic Agents</a></li>
<li><a href="../configuration/dev_choose_when_stage_runs.html">Choose When a Stage Runs</a></li>
<li><a href="../configuration/admin_timer.html">Timer Trigger</a></li>
<li><a href="../configuration/job_timeout.html">Job Timeout</a></li>
<li><a href="../configuration/managing_users.html">Managing Users</a></li>
<li><a href="../configuration/dev_authentication.html">Authentication</a></li>
<li><a href="../configuration/dev_authorization.html">Authorizing Users</a></li>
<li><a href="../configuration/delegating_group_administration.html">Delegating Group Administration</a></li>
<li><a href="../configuration/pipeline_group_admin_config.html">Pipeline Group Administration</a></li>
<li><a href="../configuration/dev_upload_test_report.html">Publish Reports and Artifacts</a></li>
<li><a href="../configuration/managing_artifacts_and_reports.html">Managing Artifacts and Reports</a></li>
<li><a href="../configuration/delete_artifacts.html">Auto Delete Artifacts</a></li>
<li><a href="../configuration/ui_testing.html">UI Testing</a></li>
<li><a href="../configuration/admin_mailhost_info.html">Mailhost Information</a></li>
<li><a href="../configuration/dev_notifications.html">Notifications</a></li>
<li><a href="../configuration/tfs_config.html">TFS Material configuration</a></li>
<li><a href="../configuration/configuration_reference.html">Reference</a></li>
<li><a href="../configuration/schema.html">Schema</a></li>
</ul></li>
<li><a href="../faq.html"><strong>FAQ/Troubleshooting</strong></a>

<ul>
<li><a href="../faq/ordering_of_pipelines.html">Ordering of Pipelines</a></li>
<li><a href="../faq/stage_old_config.html">Historical Configuration</a></li>
<li><a href="../faq/concurrent_config_modifications.html">Concurrent Modifications to Config</a></li>
<li><a href="../faq/dev_understand_why_build_broken.html">Why the Build is Broken?</a></li>
<li><a href="../faq/dev_see_artifact_as_tab.html">See artifacts as sub-tabs</a></li>
<li><a href="../faq/dev_save_properties.html">Save Properties for a Build</a></li>
<li><a href="../faq/environment_variables.html">Using Environment variables</a></li>
<li><a href="../faq/rm_deploy_to_environment.html">Deploy to an environment</a></li>
<li><a href="../faq/tester_what_has_changed.html">See changes in new binary</a></li>
<li><a href="../faq/dependency_management.html">Run Tests against new Builds</a></li>
<li><a href="../faq/rm_what_is_deployed.html">Check What&rsquo;s Deployed</a></li>
<li><a href="../faq/deploy_a_specific_build_to_an_environment.html">Deploy a Specific Build</a></li>
<li><a href="../faq/agent_guid_issue.html">Clone/Copy an Existing Agents</a></li>
<li><a href="../faq/job_rerun.html">How do I re-run jobs?</a></li>
<li><a href="../faq/material_update_hung.html">Go unable to poll for changes</a></li>
<li><a href="../faq/artifact_integrity.html">Artifact integrity verification</a></li>
<li><a href="../faq/notifications_page.html">Email Notifications</a></li>
<li><a href="../faq/admin_out_of_disk_space.html">Running out of Disk Space</a></li>
<li><a href="../faq/docker_container_ssh_keys.html">Configure SSH Keys for dockerized GoCD</a></li>
</ul></li>
</ul>




</nav>
    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="../svg/menu.svg" />
  </label>
  <strong>Value Stream Map</strong>
</header>

      
<article class="markdown">

<h1 id="gocd-value-stream-map">GoCD Value Stream Map</h1>

<h2 id="introduction">Introduction</h2>

<p>Value Stream Map helps you visualize your CI/CD workflow. With a single click, it allows you to trace a commit from when it is checked in up to when it is deployed.</p>

<p><img src="../images/whole_map.png" alt="" /></p>

<p>A value stream map can be drawn for every instance of a pipeline. It provides you with the ability to:</p>

<ul>
<li>See what caused the current pipeline to be triggered.</li>
<li>See what downstream pipelines were triggered by the current pipeline.</li>
<li>See the status of the current pipeline and all its upstream and downstream dependencies.</li>
<li>See changes in dependencies of the pipeline across different runs of it.</li>
</ul>

<p>Along with all this, it also allows you to easily debug problems when a dependency/configuration change caused your build-test-release setup to break.</p>

<h2 id="understanding-the-value-stream-map">Understanding the Value Stream Map</h2>

<p>The Value Stream Map is laid out as an end-to-end dependency graph. The graph originates from source control materials and flows from left to right.</p>

<p>The pipeline instance for which the Value Stream Map is being viewed is the main pipeline and is highlighted. Everything to the left of this pipeline are its upstream dependencies, ie all the materials that have contributed to this instance. Everything to the right are its downstream dependencies, ie, all the pipelines that it can potentially trigger or contribute to.</p>

<p><img src="../images/upstream_and_downstream.png" alt="" /></p>

<h3 id="upstream-dependencies">Upstream Dependencies</h3>

<p>The upstream dependencies of the main pipeline are taken from history and show all the source control and pipeline dependency materials that have contributed to the main pipeline. Even when the GoCD Configuration changes after a certain instance of a pipeline, its upstream dependency graph will continue to reflect the older configuration with which it was run. This also means that it would display pipelines that do not exist in the configuration any more.</p>

<p>Let us assume that instance &lsquo;1&rsquo; of pipeline &lsquo;Build&rsquo; is as below</p>

<p><img src="../images/upstream.png" alt="" /></p>

<p>If the configuration changes to replace the pipeline &lsquo;Services&rsquo; with 2 pipelines - &lsquo;Service-1&rsquo; and &lsquo;Service-2&rsquo;, the next instance of pipeline &lsquo;Build&rsquo; would reflect the change.</p>

<p><img src="../images/upstream_config_changed.png" alt="" /></p>

<p>Value Stream Map of pipeline &lsquo;Build&rsquo; with counter &lsquo;1&rsquo; would look as below</p>

<p><img src="../images/upstream_pipeline_deleted.png" alt="" /></p>

<h3 id="downstream-dependencies">Downstream Dependencies</h3>

<p>The downstream dependencies of the main pipeline instance indicate what can happen with it. This information is always taken from the latest configuration. Pipelines that have not run yet are also shown</p>

<p><img src="../images/downstream_unrun_instance.png" alt="" /></p>

<p>If Environment-1 is removed from the configuration, the Value Stream Map for the same instance of &lsquo;Build&rsquo; would look as below.</p>

<p><img src="../images/downstream_pipeline_deleted.png" alt="" /></p>

<h3 id="multiple-pipeline-instances">Multiple Pipeline Instances</h3>

<p>A pipeline could be re-triggered multiple times with the same revision. In such cases, all the instances are shown in descending order against that pipeline. In the below example, &lsquo;Deploy&rsquo; has been triggered thrice with counter &lsquo;2&rsquo; of pipeline &lsquo;FunctionalTests&rsquo;.</p>

<p><img src="../images/multiple_instances.png" alt="" /></p>

<h3 id="viewing-the-value-stream-map">Viewing the Value Stream Map</h3>

<p>Every pipeline label in GoCD directs you to the value stream map of that instance of the pipeline.</p>

<p><img src="../images/navigation.png" alt="" /></p>

<p>You can access Value Stream Map for a commit in 2 ways:</p>

<p><img src="../images/vsm_commit_1.png" alt="" />
<img src="../images/vsm_commit_2.png" alt="" /></p>

<h3 id="permissions">Permissions</h3>

<p>The permissions required to view a value stream map are as follows:</p>

<ul>
<li>GoCD Administrators have access to the value stream maps of all the pipelines that are configured.</li>
<li>Users with view permissions for a pipeline will be able to view the value stream map for all instances of that pipeline.</li>
</ul>

<p>However, there is one special case to be noted where the pipeline details might not be shown completely. If the user does not have view permissions for a pipeline in the Value Stream Map, its details, like the stages and instances run will not be shown.</p>

<p><img src="../images/no_view_permissions.png" alt="" /></p>

<p>If you are using Internet Explorer as your browser please note that Value Stream Map is supported with only versions 9 and above.</p>
</article>

      

    </div>

    
  
  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#gocd-value-stream-map">GoCD Value Stream Map</a>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#understanding-the-value-stream-map">Understanding the Value Stream Map</a>
<ul>
<li><a href="#upstream-dependencies">Upstream Dependencies</a></li>
<li><a href="#downstream-dependencies">Downstream Dependencies</a></li>
<li><a href="#multiple-pipeline-instances">Multiple Pipeline Instances</a></li>
<li><a href="#viewing-the-value-stream-map">Viewing the Value Stream Map</a></li>
<li><a href="#permissions">Permissions</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
  
</body>

</html>
