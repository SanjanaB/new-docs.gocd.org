<!DOCTYPE html>

<html>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setup | GoCD User Documentation</title>

<meta name="description" content="The GoCD Helm Chart page explains how to get started with GoCD for kubernetes using Helm."/>
<meta name="keywords" content="[gocd helm chart, cd pipeline]"/>
<link rel="canonical" href="https://gocd.github.io/new-docs.gocd.org/current//gocd_on_kubernetes/gocd_helm_chart/setup.html"/>
<script async src="../../javascripts/_gdpr-banner.js" type="text/javascript"></script>
<link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet"/>
<link rel="stylesheet" href="../../normalize.min.css"/>

<link rel="stylesheet" href="../../book.min.87a2ae978f4eef197028ff1dc9c46e406d1b1133dcefddfe618d4d6d73fc362e.css"/>
  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav role="navigation">



    <ul>
<li><a href="../../"><strong>Introduction</strong></a></li>
<li><a href="../../navigation.html"><strong>GoCD Tour</strong></a>

<ul>
<li><a href="../../navigation/pipelines_dashboard_page.html">Pipeline Dashboard</a></li>
<li><a href="../../navigation/agents_page.html">Agents</a></li>
<li><a href="../../navigation/agent_details.html">Agent Details</a></li>
<li><a href="../../navigation/pipeline_activity_page.html">Pipeline Activity</a></li>
<li><a href="../../navigation/stage_details_page.html">Stage Details</a></li>
<li><a href="../../navigation/job_details_page.html">Job Details</a></li>
<li><a href="../../navigation/administration_page.html">Administration</a></li>
<li><a href="../../navigation/server_details_page.html">Server Details</a></li>
<li><a href="../../navigation/environments_page.html">Environments</a></li>
<li><a href="../../navigation/value_stream_map.html">Value Stream Map</a></li>
</ul></li>
<li><a href="../../configuration.html"><strong>Configuration</strong></a>

<ul>
<li><a href="../../configuration/quick_pipeline_setup.html">Setup a New Pipeline</a></li>
<li><a href="../../configuration/managing_pipelines.html">Managing Pipelines</a></li>
<li><a href="../../configuration/managing_dependencies.html">Managing Dependencies</a></li>
<li><a href="../../configuration/managing_a_build_cloud.html">Managing Agents</a></li>
<li><a href="../../configuration/managing_environments.html">Managing Environments</a></li>
<li><a href="../../configuration/build_labelling.html">Pipeline Labelling</a></li>
<li><a href="../../configuration/pipeline_scheduling.html">Pipeline Scheduling</a></li>
<li><a href="../../configuration/admin_use_parameters_in_configuration.html">Parameterize a Pipeline</a></li>
<li><a href="../../configuration/admin_use_custom_pipeline_label.html">Customize a Pipeline Label</a></li>
<li><a href="../../configuration/admin_clone_pipeline.html">Clone a Pipeline</a></li>
<li><a href="../../configuration/admin_lock_pipelines.html">Lock a Pipeline</a></li>
<li><a href="../../configuration/admin_add_material.html">Add Material to Existing Pipeline</a></li>
<li><a href="../../configuration/admin_add_stage.html">Add Stage to Existing Pipeline</a></li>
<li><a href="../../configuration/admin_add_job.html">Add job to Existing Stage</a></li>
<li><a href="../../configuration/admin_add_task.html">Add task to Existing Job</a></li>
<li><a href="../../configuration/pipeline_templates.html">Pipeline Templates</a></li>
<li><a href="../../configuration/elastic_agents.html">Elastic Agents</a></li>
<li><a href="../../configuration/dev_choose_when_stage_runs.html">Choose When a Stage Runs</a></li>
<li><a href="../../configuration/admin_timer.html">Timer Trigger</a></li>
<li><a href="../../configuration/job_timeout.html">Job Timeout</a></li>
<li><a href="../../configuration/managing_users.html">Managing Users</a></li>
<li><a href="../../configuration/dev_authentication.html">Authentication</a></li>
<li><a href="../../configuration/dev_authorization.html">Authorizing Users</a></li>
<li><a href="../../configuration/delegating_group_administration.html">Delegating Group Administration</a></li>
<li><a href="../../configuration/pipeline_group_admin_config.html">Pipeline Group Administration</a></li>
<li><a href="../../configuration/dev_upload_test_report.html">Publish Reports and Artifacts</a></li>
<li><a href="../../configuration/managing_artifacts_and_reports.html">Managing Artifacts and Reports</a></li>
<li><a href="../../configuration/delete_artifacts.html">Auto Delete Artifacts</a></li>
<li><a href="../../configuration/ui_testing.html">UI Testing</a></li>
<li><a href="../../configuration/admin_mailhost_info.html">Mailhost Information</a></li>
<li><a href="../../configuration/dev_notifications.html">Notifications</a></li>
<li><a href="../../configuration/tfs_config.html">TFS Material configuration</a></li>
<li><a href="../../configuration/configuration_reference.html">Reference</a></li>
<li><a href="../../configuration/schema.html">Schema</a></li>
</ul></li>
<li><a href="../../advanced_usage.html"><strong>Advanced Usage</strong></a>

<ul>
<li><a href="../../advanced_usage/pipelines_as_code.html">Pipelines as code</a></li>
<li><a href="../../advanced_usage/agent_auto_register.html">Auto Register a Remote Agent</a></li>
<li><a href="../../advanced_usage/admin_spawn_multiple_jobs.html">Spawn multiple instances of a Job</a></li>
<li><a href="../../advanced_usage/admin_install_multiple_agents.html">Multiple Agents on One Machine</a></li>
<li><a href="../../advanced_usage/dev_clean_up_when_cancel.html">Clean on Task Cancel</a></li>
<li><a href="../../advanced_usage/dev_conditional_task_execution.html">Conditional Task Execution</a></li>
<li><a href="../../advanced_usage/trigger_with_options.html">Trigger With Options</a></li>
<li><a href="../../advanced_usage/fan_in.html">Fan In</a></li>
<li><a href="../../advanced_usage/properties.html">Properties</a></li>
<li><a href="../../advanced_usage/logging.html">Logging</a></li>
<li><a href="../../advanced_usage/compare_pipelines.html">Compare Builds</a></li>
<li><a href="../../advanced_usage/stage_duration_chart.html">Graphs</a></li>
<li><a href="../../advanced_usage/command_repository.html">Command Repository</a></li>
<li><a href="../../advanced_usage/one_click_backup.html">Backup GoCD Server</a></li>
<li><a href="../../advanced_usage/cron_backup.html">Timer Based GoCD Server Backup</a></li>
<li><a href="../../advanced_usage/config_repo.html">Config Repository</a></li>
<li><a href="../../advanced_usage/other_config_options.html">Other Config Options</a></li>
<li><a href="../../advanced_usage/agent-health-check-api.html">Agent Health Check API</a></li>
<li><a href="../../advanced_usage/maintenance_mode.html">Maintenance Mode</a><br /></li>
</ul></li>
<li><a href="../../extension_points.html"><strong>Extension Points Of GoCD</strong></a>

<ul>
<li><a href="../../extension_points/plugin_user_guide.html">Plugin User Guide</a></li>
<li><a href="../../extension_points/package_repository_extension.html">Package Repository Extension</a></li>
<li><a href="../../extension_points/yum_repository_poller.html">Yum Repository Poller</a></li>
<li><a href="../../extension_points/scm_extension.html">SCM Extension</a></li>
<li><a href="../../extension_points/task_extension.html">Task Extension</a></li>
<li><a href="../../extension_points/notification_extension.html">Notification Extension</a></li>
<li><a href="../../extension_points/configrepo_extension.html">Configuration repository Extension</a></li>
</ul></li>
<li><a href="../../gocd_on_kubernetes.html"><strong>GoCD on Kubernetes</strong></a>

<ul>
<li><a href="../../gocd_on_kubernetes/introduction.html">Introduction</a></li>
<li><a href="../../gocd_on_kubernetes/gocd_helm_chart/setup_and_configuration.html">Setup and configuration</a>

<ul>
<li><a href="../../gocd_on_kubernetes/gocd_helm_chart/setup.html">Setup</a></li>
<li><a href="../../gocd_on_kubernetes/gocd_helm_chart/configure_cluster.html">Configure your Kubernetes Cluster</a></li>
<li><a href="../../gocd_on_kubernetes/gocd_helm_chart/helm_install.html">Install the GoCD Helm chart</a></li>
</ul></li>
<li><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline.html">Designing a CD Pipeline</a>

<ul>
<li><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_build_pipeline.html">Create a pipeline to build application</a></li>
<li><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_test_pipeline.html">Create a pipeline to test the built application</a></li>
<li><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_deploy_pipeline.html">Create a pipeline to deploy on Kubernetes</a></li>
<li><a href="../../gocd_on_kubernetes/designing_a_cd_pipeline/docker_workflows.html">Docker workflows</a></li>
<li><a href="../../gocd_on_kubernetes/gocd_helm_chart/configure_k8s_ea_plugin.html">Configure the Kubernetes Elastic Agent plugin</a></li>
</ul></li>
<li><a href="../../gocd_on_kubernetes/gocd_helm_chart/troubleshooting.html">Troubleshooting</a></li>
</ul></li>
<li><a href="../../faq.html"><strong>FAQ/Troubleshooting</strong></a>

<ul>
<li><a href="../../faq/ordering_of_pipelines.html">Ordering of Pipelines</a></li>
<li><a href="../../faq/stage_old_config.html">Historical Configuration</a></li>
<li><a href="../../faq/concurrent_config_modifications.html">Concurrent Modifications to Config</a></li>
<li><a href="../../faq/dev_understand_why_build_broken.html">Why the Build is Broken?</a></li>
<li><a href="../../faq/dev_see_artifact_as_tab.html">See artifacts as sub-tabs</a></li>
<li><a href="../../faq/dev_save_properties.html">Save Properties for a Build</a></li>
<li><a href="../../faq/environment_variables.html">Using Environment variables</a></li>
<li><a href="../../faq/rm_deploy_to_environment.html">Deploy to an environment</a></li>
<li><a href="../../faq/tester_what_has_changed.html">See changes in new binary</a></li>
<li><a href="../../faq/dependency_management.html">Run Tests against new Builds</a></li>
<li><a href="../../faq/rm_what_is_deployed.html">Check What&rsquo;s Deployed</a></li>
<li><a href="../../faq/deploy_a_specific_build_to_an_environment.html">Deploy a Specific Build</a></li>
<li><a href="../../faq/agent_guid_issue.html">Clone/Copy an Existing Agents</a></li>
<li><a href="../../faq/job_rerun.html">How do I re-run jobs?</a></li>
<li><a href="../../faq/material_update_hung.html">Go unable to poll for changes</a></li>
<li><a href="../../faq/artifact_integrity.html">Artifact integrity verification</a></li>
<li><a href="../../faq/notifications_page.html">Email Notifications</a></li>
<li><a href="../../faq/admin_out_of_disk_space.html">Running out of Disk Space</a></li>
<li><a href="../../faq/docker_container_ssh_keys.html">Configure SSH Keys for dockerized GoCD</a></li>
</ul></li>
<li><a href="../../beta.html"><strong>Beta features</strong></a>

<ul>
<li><a href="../../beta/comment_on_pipeline_run.html">Comment on a pipeline run</a><br /></li>
</ul></li>
<li><a href="../../release_history.html"><strong>Release History</strong></a>

<ul>
<li><a href="../../release_history/whats_new_in_go.html">What&rsquo;s New in Go</a><br /></li>
</ul></li>
</ul>




</nav>
    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="../../svg/menu.svg" />
  </label>
  <strong>Setup</strong>
</header>

      
<article class="markdown">

<h1 id="setup">Setup</h1>

<p>Before you can get started with GoCD on Kubernetes, make sure that you have taken a look at the list below.</p>

<h2 id="1-install-kubectl">1. Install kubectl</h2>

<p>The Kubernetes CLI <code>kubectl</code> is used for cluster management purposes. The Kubernetes <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">install documentation</a> provides various ways of installing kubectl for different platforms.</p>

<h2 id="2-setup-a-kubernetes-cluster">2. Setup a Kubernetes Cluster</h2>

<p>Before installing GoCD, you need to setup a Kubernetes cluster. You can do this using any of the following tools:</p>

<ul>
<li>Option 1: Minikube (<a href="https://kubernetes.io/docs/getting-started-guides/minikube/">setup guide</a>)</li>
</ul>

<p>Once minikube is installed, start minikube with the <code>kubeadm</code> bootstrapper. The <code>kubeadm</code> toolkit helps to easily bootstrap a cluster so that appropriate privileges are granted for performing read-write operations on Kubernetes authentication and authorization (RBAC) resources.</p>

<pre><code class="language-bash">  minikube start --vm-driver=virtualbox --bootstrapper=kubeadm --memory 4096
</code></pre>

<ul>
<li>Option 2: Google Kubernetes Engine or GKE (<a href="https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-container-cluster">setup guide</a>)</li>
</ul>

<p><em>Tip: Once the cluster is running, execute the following command to see if kubectl is using right context.</em></p>

<pre><code class="language-bash">    $ kubectl config current-context
    gke_my-project_us-central1-a_gocd-cluster
</code></pre>

<ul>
<li>Option 3: Kubernetes Operations on AWS/GCE or kops (<a href="https://github.com/kubernetes/kops/blob/master/docs/README.html">setup guide</a>)</li>
</ul>

<p>##### Other References</p>

<ul>
<li><a href="https://aws.amazon.com/blogs/compute/kubernetes-clusters-aws-kops/">Manage Kubernetes Clusters on AWS Using Kops</a></li>
<li><a href="https://kubernetes.io/docs/getting-started-guides/kops/">Installing Kubernetes on AWS with kops</a></li>
</ul>

<h2 id="3-install-the-kubernetes-package-manager-helm">3. Install the Kubernetes package manager - Helm</h2>

<p>Helm is a package manager for Kubernetes. Kubernetes packages are called charts. Charts are curated applications for Kubernetes.</p>

<p>Helm has two parts to it, a client and a server called <code>Tiller</code>.</p>

<h4 id="install-the-helm-client">Install the Helm client</h4>

<p>The helm client is a CLI that let’s you install and update packaged applications on Kubernetes.</p>

<p>Please refer to the helm <a href="https://github.com/kubernetes/helm/blob/master/docs/install.html">install documentation</a> for alternative methods of installation.</p>

<h4 id="install-the-helm-server">Install the Helm server</h4>

<p>The helm server is installed as a Kubernetes pod and can be started with the command:</p>

<pre><code class="language-bash">$ helm init
</code></pre>
</article>

      

    </div>

    
  
  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#setup">Setup</a>
<ul>
<li><a href="#1-install-kubectl">1. Install kubectl</a></li>
<li><a href="#2-setup-a-kubernetes-cluster">2. Setup a Kubernetes Cluster</a></li>
<li><a href="#3-install-the-kubernetes-package-manager-helm">3. Install the Kubernetes package manager - Helm</a>
<ul>
<li>
<ul>
<li><a href="#install-the-helm-client">Install the Helm client</a></li>
<li><a href="#install-the-helm-server">Install the Helm server</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
  
</body>

</html>
